<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Calendar</title>
    <style>
        body{ background-color: #fff;}
        #main{
            border: 1px solid black; width:400px; height: 600px; margin-left:400px;
        }
       
        #cal{
            margin-left: auto;
            margin-right: auto;
            width: 320px;
            font-family: 'Lato', sans-serif;
        }
        
        #cal caption{display: none;}
        #cal table {width: 250px; height: 200px;}
        #cal #header {height: 50px; line-height: 50px; text-align: center; font-size: 18px; font-weight: bold}
#cal .button {color: #000; text-decoration: none;}        
        
        #cal .sun {text-align: center; color: red;}
        #cal .mon {text-align: center;}
        #cal .tue {text-align: center;}
        #cal .wed {text-align: center;}
        #cal .thu {text-align: center;}
        #cal .fri {text-align: center;}
        #cal .sat {text-align: center; color: blue;}

        
        
        
    </style>
    <!--java script 달력 기능 구현-->
    <script>
        function cal(id, date){
            var cal = document.getElementById(id);
            if( typeof(date)!='underfined'){
            	//date = date.split('-');
                date[1]=date[1]-1;
                date = new Date(date[0], date[1],date[2]);
            } else {
                var date = new Date();// 현재 날짜, 시간
            }
        

        // 현재 날짜의 년,월,일
        // 현재 년
        var year = date.getFullYear();
        // 현재 월
        var month=date.getMonth()+1;
        // 현재 일자
        var currentDate=date.getDate();
        
        date.setDate(1);
        //이번 달 1일의 요일 0=일~6=토
        var day = date.getDay();
        
        //요일
        var weekName = new Array('sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat');
            
        //마지막 날
        var lastDate = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);
        
        //이전 달의 마지막 날 
        var prevLastDate = new Date(year, month, 0);
            
        //각 달의 마지막 일 계산- 윤년: 년도4의 배수, 100의 배수X or 2월29일: 400의 배수
        if((year%4==0 && year%100!==0)||year%400==0) lastDate[1]=29;
        
        // 몇 주인지 구함
        var currentLastDate =lastDate[month-1];
        var week = Math.ceil((day+currentLastDate)/7);
        
        // 1월이면, 전년도 12월 출력
        if(month!=1){
            var prevDate = year + '-' + (month -1)+ '-' + currentDate;         
        }else {
            var prevDate =(year - 1)+'-'+12+'-'+currentDate;
        }
        // 12월이면, 내년 1월로 출력
        if(month !=12){
            var nextDate = year +'-'+(month + 1)+'-'+currentDate;
        }else{
            var nextDate = (year + 1) +'-'+1+'-'+currentDate;
        }
        
        var calendar ='';
        
        calendar+='<div id = "header">';
        calendar+='     <sapn><a href="#" class ="leftBtn" onclick="cal(\''+id+'\',\''+
        prevDate + '\')"><</a></span>';
        calendar += '			<span id="date">' + currentYear + '년 ' + currentMonth + '월</span>';
        calendar += '			<span><a href="#" class="rightBtn" onclick="cal(\'' + id + '\', \'' + nextDate + '\')">></a></span>';
        calendar += '		</div>';
        calendar += '		<table border="0" cellspacing="0" cellpadding="0">';
        calendar += '			<caption>' + currentYear + '년 ' + currentMonth + '월 달력</caption>';
        calendar += '			<thead>';
        calendar += '				<tr>';
        calendar += '				  <th class="sun" scope="row">일</th>';
        calendar += '				  <th class="mon" scope="row">월</th>';
        calendar += '				  <th class="tue" scope="row">화</th>';
        calendar += '				  <th class="wed" scope="row">수</th>';
        calendar += '				  <th class="thu" scope="row">목</th>';
        calendar += '				  <th class="fri" scope="row">금</th>';
        calendar += '				  <th class="sat" scope="row">토</th>';
        calendar += '				</tr>';
        calendar += '			</thead>';
        calendar += '			<tbody>';
        
        var num = 1-day;
        
        for(var i =0; i<week; i++)
        {
            calendar+='              <tr>';
            for(var j =0; j<7; j++,num){
                if(num<1 || num>currentLastDate){
                   calendar+='               <td clss="'+weekName[j]+'"></td>';
                    continue;  
                }// if end
                calendar+='               <td clss="'+weekName[j]+'">'+num+'</td>';
            }// for var j end
            calendar+='            </tbody>';
            	calendar += '		</table>';
        }// for var i end
            cal.innerHTML=calendar;
    }//function cal end
    </script>
</head>
<body>
<div id= "main">
<!--달력 윗부분 그림--->
    <div id="img">
        <img src ="../img/cat.png"/>
    </div>
<!--달력 출력-->    
 	<div id="cal" onload="cal('cal');"></div>
</div>
</body>
</html>