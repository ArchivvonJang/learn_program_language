<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>캘린더 구현</title>
<!-- css -->
<style>
	#cal {width: 250px; height: 250px; border: 1px solid black;}

	#cal #header {height: 50px; line-height: 50px; text-align: center; font-size: 18px; font-weight: bold}
	#cal.button {color: #000; text-decoration: none;}
	
	#cal table {width: 250px; height: 200px;}
	#cal caption {display: none;}
	
	#cal .sun {text-align: center; color: deeppink;}
	#cal .mon {text-align: center;}
	#cal .tue {text-align: center;}
	#cal .wed {text-align: center;}
	#cal .thu {text-align: center;}
	#cal .fri {text-align: center;}
	#cal .sat {text-align: center; color: deepskyblue;}
</style>
<!-- javascript -->
<script>
function cal(id, date) {
	var cal = document.getElementById(id);
	
	if( typeof( date ) !== 'undefined' ) {
		date = date.split('-');
		date[1] = date[1] - 1;
		date = new Date(date[0], date[1], date[2]);
	} else {
		var date = new Date();
	}
	//년도
	var year = date.getFullYear();

	//월  1월=0~12월=11 ->  +1해서 보여지는 년도 알맞게 맞추기
	var month = date.getMonth() + 1;
	
	//오늘 날짜
	var currentDate = date.getDate();
	
	
	date.setDate(1);
	var day = date.getDay();
	//이번달 1일의 요일은 출력. 0은 일요일 6은 토요일
	
	var weekString = new Array('sun', 'mon', 'tue', 'wed', 'thu', 'fri', 'sat');
	var lastDate = new Array(31, 28, 31, 30, 31, 30, 31, 31, 30, 31, 30, 31);
	if( (year% 4 === 0 && year % 100 !== 0) || year % 400 === 0 )
		lastDate[1] = 29;
	//각 달의 마지막 일을 계산, 윤년의 경우 년도가 4의 배수이고 100의 배수가 아닐 때 혹은 400의 배수일 때 2월달이 29일 임.
	
	var currentLastDate = lastDate[month-1];
	var week = Math.ceil( ( day + currentLastDate ) / 7 );
	//총 몇 주인지 구함.
	
	if(month != 1)
		var prevDate = year + '-' + ( month - 1 ) + '-' + currentDate;
	else
		var prevDate = ( currentYear - 1 ) + '-' + 12 + '-' + currentDate;
	//만약 이번달이 1월이라면 1년 전 12월로 출력.
	
	if(month != 12) 
		var nextDate = year + '-' + ( month + 1 ) + '-' + currentDate;
	else
		var nextDate = ( year + 1 ) + '-' + 1 + '-' + currentDate;
	//만약 이번달이 12월이라면 1년 후 1월로 출력.

	
	if( month < 10 )
		var month = '0' + month;
	//10월 이하라면 앞에 0을 붙여준다.
	
	var calendar = '';
	
	calendar += '<div id="header">';
	calendar += '			<span><a href="#" class="button left" onclick="cal(\'' +  id + '\', \'' + prevDate + '\')"><</a></span>';
	calendar += '			<span id="date">' + year + '년 ' + month + '월</span>';
	calendar += '			<span><a href="#" class="button right" onclick="cal(\'' + id + '\', \'' + nextDate + '\')">></a></span>';
	calendar += '		</div>';
	calendar += '		<table border="0" cellspacing="0" cellpadding="0">';
	calendar += '			<caption>' + year + '년 ' + month + '월 달력</caption>';
	calendar += '			<thead>';
	calendar += '				<tr>';
	calendar += '				  <th class="sun" scope="row">일</th>';
	calendar += '				  <th class="mon" scope="row">월</th>';
	calendar += '				  <th class="tue" scope="row">화</th>';
	calendar += '				  <th class="wed" scope="row">수</th>';
	calendar += '				  <th class="thu" scope="row">목</th>';
	calendar += '				  <th class="fri" scope="row">금</th>';
	calendar += '				  <th class="sat" scope="row">토</th>';
	calendar += '				</tr>';
	calendar += '			</thead>';
	calendar += '			<tbody>';
	
	var dateNum = 1 - day;
	
	for(var i = 0; i < week; i++) {
		cal += '			<tr>';
		for(var j = 0; j < 7; j++, dateNum++) {
			if( dateNum < 1 || dateNum > currentLastDate ) {
				cal += '				<td class="' + weekString[j] + '"> </td>';
				continue;
			}
			cal += '				<td class="' + weekString[j] + '">' + dateNum + '</td>';
		}
		cal += '			</tr>';
	}
	
	cal += '			</tbody>';
	cal += '		</table>';
	
	cal.innerHTML = cal;
}

</script>
</head>
<body>
	<div id="cal" onload = "cal('cal');"></div>

</body>
</html>